<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0) on Wed Aug 20 17:06:37 EDT 2014 -->
<title>StateAndConnectionManager</title>
<meta name="date" content="2014-08-20">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StateAndConnectionManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StateAndConnectionManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/commonreality/reality/impl/RealityIOHandler.html" title="class in org.commonreality.reality.impl"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/commonreality/reality/impl/StateAndConnectionManager.html" target="_top">Frames</a></li>
<li><a href="StateAndConnectionManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.commonreality.reality.impl</div>
<h2 title="Class StateAndConnectionManager" class="title">Class StateAndConnectionManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.commonreality.reality.impl.StateAndConnectionManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">StateAndConnectionManager</span>
extends java.lang.Object</pre>
<div class="block">state and connection manager does just that but is centralized so that we can
 ensure synchronization during the connection and state change phases of a
 simulation's life. </br> </br> previous versions that used a separate
 connection manager and state handler was not sufficient as state changes
 could occur while a connection was being established. Even more
 frustratingly, if two connections were established at the same time, one or
 the other might not get the data for the other. </br></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>harrison</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#StateAndConnectionManager-org.commonreality.reality.IReality-java.util.concurrent.Executor-">StateAndConnectionManager</a></span>(<a href="../../../../org/commonreality/reality/IReality.html" title="interface in org.commonreality.reality">IReality</a>&nbsp;reality,
                         java.util.concurrent.Executor&nbsp;executor)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#acceptParticipant-org.apache.mina.core.session.IoSession-org.commonreality.object.ISimulationObject-org.commonreality.reality.impl.handler.ObjectCommandHandler-">acceptParticipant</a></span>(org.apache.mina.core.session.IoSession&nbsp;session,
                 <a href="../../../../org/commonreality/object/ISimulationObject.html" title="interface in org.commonreality.object">ISimulationObject</a>&nbsp;object,
                 <a href="../../../../org/commonreality/reality/impl/handler/ObjectCommandHandler.html" title="class in org.commonreality.reality.impl.handler">ObjectCommandHandler</a>&nbsp;objectHandler)</code>
<div class="block">once all the participants information has been received, we officially add
 them to the simulation and make sure its state is consistent with the
 simulations</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#credentialsAreValid-org.commonreality.message.credentials.ICredentials-">credentialsAreValid</a></span>(<a href="../../../../org/commonreality/message/credentials/ICredentials.html" title="interface in org.commonreality.message.credentials">ICredentials</a>&nbsp;credentials)</code>
<div class="block">return true if these credentials are valid or if we are promiscuous.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#getAcknowledgementTimeout--">getAcknowledgementTimeout</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#getActiveParticipant-org.commonreality.message.credentials.ICredentials-">getActiveParticipant</a></span>(<a href="../../../../org/commonreality/message/credentials/ICredentials.html" title="interface in org.commonreality.message.credentials">ICredentials</a>&nbsp;credentials)</code>
<div class="block">return the identifier for the participant with the provided credentials, or
 null</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#getActiveParticipants-java.util.Collection-">getActiveParticipants</a></span>(java.util.Collection&lt;<a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a>&gt;&nbsp;participantContainer)</code>
<div class="block">return all the participants that are actively connected.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;org.apache.mina.core.session.IoSession&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#getActiveSessions-java.util.Collection-">getActiveSessions</a></span>(java.util.Collection&lt;org.apache.mina.core.session.IoSession&gt;&nbsp;container)</code>
<div class="block">return all the active iosessions</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../org/commonreality/message/credentials/ICredentials.html" title="interface in org.commonreality.message.credentials">ICredentials</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#getParticipantCredentials-org.apache.mina.core.session.IoSession-">getParticipantCredentials</a></span>(org.apache.mina.core.session.IoSession&nbsp;session)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#getParticipantIdentifier-org.apache.mina.core.session.IoSession-">getParticipantIdentifier</a></span>(org.apache.mina.core.session.IoSession&nbsp;session)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>org.apache.mina.core.session.IoSession</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#getParticipantSession-org.commonreality.identifier.IIdentifier-">getParticipantSession</a></span>(<a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a>&nbsp;participantId)</code>
<div class="block">return the <code>IoSession</code> for the participant.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>org.apache.mina.core.session.IoSession</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#getPendingParticipantSession-org.commonreality.identifier.IIdentifier-">getPendingParticipantSession</a></span>(<a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a>&nbsp;participantId)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.concurrent.locks.ReentrantReadWriteLock</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#getStateLock--">getStateLock</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#grantCredentials-org.commonreality.message.credentials.ICredentials-boolean-">grantCredentials</a></span>(<a href="../../../../org/commonreality/message/credentials/ICredentials.html" title="interface in org.commonreality.message.credentials">ICredentials</a>&nbsp;credentials,
                boolean&nbsp;wantsClockOwnership)</code>
<div class="block">adds the credentials to the set of acceptable credentials.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#isAddressingInfoValid-org.apache.mina.core.session.IoSession-org.commonreality.participant.addressing.IAddressingInformation-">isAddressingInfoValid</a></span>(org.apache.mina.core.session.IoSession&nbsp;session,
                     <a href="../../../../org/commonreality/participant/addressing/IAddressingInformation.html" title="interface in org.commonreality.participant.addressing">IAddressingInformation</a>&nbsp;addressing)</code>
<div class="block">this should, ultimately, check to be sure that the location they report for
 connecting too is consistent with where they actually are (cheap spoofing
 measure)</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#isClockOwner-org.commonreality.message.credentials.ICredentials-">isClockOwner</a></span>(<a href="../../../../org/commonreality/message/credentials/ICredentials.html" title="interface in org.commonreality.message.credentials">ICredentials</a>&nbsp;credentials)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#isPromiscuous--">isPromiscuous</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#participantConnected-org.apache.mina.core.session.IoSession-org.commonreality.message.request.connect.IConnectionRequest-">participantConnected</a></span>(org.apache.mina.core.session.IoSession&nbsp;session,
                    <a href="../../../../org/commonreality/message/request/connect/IConnectionRequest.html" title="interface in org.commonreality.message.request.connect">IConnectionRequest</a>&nbsp;request)</code>
<div class="block">called when a participant connects and asks to be added to the simulation.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#participantDisconnected-org.apache.mina.core.session.IoSession-">participantDisconnected</a></span>(org.apache.mina.core.session.IoSession&nbsp;session)</code>
<div class="block">called when a participant leaves the simulation, cleanly or not</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#revokeCredentials-org.commonreality.message.credentials.ICredentials-">revokeCredentials</a></span>(<a href="../../../../org/commonreality/message/credentials/ICredentials.html" title="interface in org.commonreality.message.credentials">ICredentials</a>&nbsp;credentials)</code>
<div class="block">revoke the credentials.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#setAcknowledgementTimeout-long-">setAcknowledgementTimeout</a></span>(long&nbsp;timeout)</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#setPromiscuous-boolean-">setPromiscuous</a></span>(boolean&nbsp;promiscuous)</code>
<div class="block">if promiscuous is true, all participants will be allowed to connect
 regardless of their credentials.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#setState-org.commonreality.participant.IParticipant.State-">setState</a></span>(<a href="../../../../org/commonreality/participant/IParticipant.State.html" title="enum in org.commonreality.participant">IParticipant.State</a>&nbsp;state)</code>
<div class="block">will send message to all participants and wait at most timeToWait
 milliseconds for acknowledgements from them.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="StateAndConnectionManager-org.commonreality.reality.IReality-java.util.concurrent.Executor-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>StateAndConnectionManager</h4>
<pre>public&nbsp;StateAndConnectionManager(<a href="../../../../org/commonreality/reality/IReality.html" title="interface in org.commonreality.reality">IReality</a>&nbsp;reality,
                                 java.util.concurrent.Executor&nbsp;executor)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getStateLock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStateLock</h4>
<pre>public&nbsp;java.util.concurrent.locks.ReentrantReadWriteLock&nbsp;getStateLock()</pre>
</li>
</ul>
<a name="setAcknowledgementTimeout-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAcknowledgementTimeout</h4>
<pre>public&nbsp;void&nbsp;setAcknowledgementTimeout(long&nbsp;timeout)</pre>
</li>
</ul>
<a name="getAcknowledgementTimeout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAcknowledgementTimeout</h4>
<pre>public&nbsp;long&nbsp;getAcknowledgementTimeout()</pre>
</li>
</ul>
<a name="setPromiscuous-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPromiscuous</h4>
<pre>public&nbsp;void&nbsp;setPromiscuous(boolean&nbsp;promiscuous)</pre>
<div class="block">if promiscuous is true, all participants will be allowed to connect
 regardless of their credentials.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>promiscuous</code> - </dd>
</dl>
</li>
</ul>
<a name="isPromiscuous--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPromiscuous</h4>
<pre>public&nbsp;boolean&nbsp;isPromiscuous()</pre>
</li>
</ul>
<a name="grantCredentials-org.commonreality.message.credentials.ICredentials-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>grantCredentials</h4>
<pre>public&nbsp;void&nbsp;grantCredentials(<a href="../../../../org/commonreality/message/credentials/ICredentials.html" title="interface in org.commonreality.message.credentials">ICredentials</a>&nbsp;credentials,
                             boolean&nbsp;wantsClockOwnership)</pre>
<div class="block">adds the credentials to the set of acceptable credentials.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>credentials</code> - </dd>
<dd><code>wantsClockOwnership</code> - </dd>
</dl>
</li>
</ul>
<a name="revokeCredentials-org.commonreality.message.credentials.ICredentials-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>revokeCredentials</h4>
<pre>public&nbsp;void&nbsp;revokeCredentials(<a href="../../../../org/commonreality/message/credentials/ICredentials.html" title="interface in org.commonreality.message.credentials">ICredentials</a>&nbsp;credentials)</pre>
<div class="block">revoke the credentials. if there is a participant connected with these
 credentials, they will be immediately disconnected.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>credentials</code> - </dd>
</dl>
</li>
</ul>
<a name="credentialsAreValid-org.commonreality.message.credentials.ICredentials-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>credentialsAreValid</h4>
<pre>public&nbsp;boolean&nbsp;credentialsAreValid(<a href="../../../../org/commonreality/message/credentials/ICredentials.html" title="interface in org.commonreality.message.credentials">ICredentials</a>&nbsp;credentials)</pre>
<div class="block">return true if these credentials are valid or if we are promiscuous. We do
 not check that there is no one else using those credentials here..</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>credentials</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="isClockOwner-org.commonreality.message.credentials.ICredentials-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isClockOwner</h4>
<pre>public&nbsp;boolean&nbsp;isClockOwner(<a href="../../../../org/commonreality/message/credentials/ICredentials.html" title="interface in org.commonreality.message.credentials">ICredentials</a>&nbsp;credentials)</pre>
</li>
</ul>
<a name="getActiveParticipants-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getActiveParticipants</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a>&gt;&nbsp;getActiveParticipants(java.util.Collection&lt;<a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a>&gt;&nbsp;participantContainer)</pre>
<div class="block">return all the participants that are actively connected. These participants
 have all connected and sent all their participant data to reality</br>
 </br> The container will not be cleared before insertion. If container is
 null, a new one is created</div>
</li>
</ul>
<a name="getActiveSessions-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getActiveSessions</h4>
<pre>public&nbsp;java.util.Collection&lt;org.apache.mina.core.session.IoSession&gt;&nbsp;getActiveSessions(java.util.Collection&lt;org.apache.mina.core.session.IoSession&gt;&nbsp;container)</pre>
<div class="block">return all the active iosessions</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>container</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getActiveParticipant-org.commonreality.message.credentials.ICredentials-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getActiveParticipant</h4>
<pre>public&nbsp;<a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a>&nbsp;getActiveParticipant(<a href="../../../../org/commonreality/message/credentials/ICredentials.html" title="interface in org.commonreality.message.credentials">ICredentials</a>&nbsp;credentials)</pre>
<div class="block">return the identifier for the participant with the provided credentials, or
 null</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>credentials</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getParticipantSession-org.commonreality.identifier.IIdentifier-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParticipantSession</h4>
<pre>public&nbsp;org.apache.mina.core.session.IoSession&nbsp;getParticipantSession(<a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a>&nbsp;participantId)</pre>
<div class="block">return the <code>IoSession</code> for the participant. This <a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier"><code>IIdentifier</code></a>
 must be in the current set returned by <code>#getActiveParticipants()</code>,
 otherwise it will return null, signaling that the participant has
 disconnected.</div>
</li>
</ul>
<a name="getPendingParticipantSession-org.commonreality.identifier.IIdentifier-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPendingParticipantSession</h4>
<pre>public&nbsp;org.apache.mina.core.session.IoSession&nbsp;getPendingParticipantSession(<a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a>&nbsp;participantId)</pre>
</li>
</ul>
<a name="getParticipantIdentifier-org.apache.mina.core.session.IoSession-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParticipantIdentifier</h4>
<pre>public&nbsp;<a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a>&nbsp;getParticipantIdentifier(org.apache.mina.core.session.IoSession&nbsp;session)</pre>
</li>
</ul>
<a name="getParticipantCredentials-org.apache.mina.core.session.IoSession-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParticipantCredentials</h4>
<pre>public&nbsp;<a href="../../../../org/commonreality/message/credentials/ICredentials.html" title="interface in org.commonreality.message.credentials">ICredentials</a>&nbsp;getParticipantCredentials(org.apache.mina.core.session.IoSession&nbsp;session)</pre>
</li>
</ul>
<a name="setState-org.commonreality.participant.IParticipant.State-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setState</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a>&gt;&nbsp;setState(<a href="../../../../org/commonreality/participant/IParticipant.State.html" title="enum in org.commonreality.participant">IParticipant.State</a>&nbsp;state)</pre>
<div class="block">will send message to all participants and wait at most timeToWait
 milliseconds for acknowledgements from them. If some have not acknowledged
 by the timeToWait limit, they are returned so that other processing can be
 performed. </br> If <a href="../../../../org/commonreality/reality/impl/StateAndConnectionManager.html#getParticipantSession-org.commonreality.identifier.IIdentifier-"><code>getParticipantSession(IIdentifier)</code></a> returns
 null for any identifier (disconnected), it will be ignored and added to the
 list of nonresponders.</br></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>participants</code> - </dd>
<dd><code>message</code> - </dd>
<dd><code>timeToWait</code> - or 0 if indefinite</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>collection of identifiers of participants who have not responded in
         time.</dd>
</dl>
</li>
</ul>
<a name="isAddressingInfoValid-org.apache.mina.core.session.IoSession-org.commonreality.participant.addressing.IAddressingInformation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAddressingInfoValid</h4>
<pre>protected&nbsp;boolean&nbsp;isAddressingInfoValid(org.apache.mina.core.session.IoSession&nbsp;session,
                                        <a href="../../../../org/commonreality/participant/addressing/IAddressingInformation.html" title="interface in org.commonreality.participant.addressing">IAddressingInformation</a>&nbsp;addressing)</pre>
<div class="block">this should, ultimately, check to be sure that the location they report for
 connecting too is consistent with where they actually are (cheap spoofing
 measure)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - </dd>
<dd><code>addressing</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="participantConnected-org.apache.mina.core.session.IoSession-org.commonreality.message.request.connect.IConnectionRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>participantConnected</h4>
<pre>public&nbsp;void&nbsp;participantConnected(org.apache.mina.core.session.IoSession&nbsp;session,
                                 <a href="../../../../org/commonreality/message/request/connect/IConnectionRequest.html" title="interface in org.commonreality.message.request.connect">IConnectionRequest</a>&nbsp;request)</pre>
<div class="block">called when a participant connects and asks to be added to the simulation.
 This will check the participant's credentials and determine whether or not
 to allow the connection to continue.<br>
 <br>
 If the participant is allowed to connect, it wont actually be added to the
 simulation until after we have received all of its information. At which
 time, <code>#acceptParticipant()</code> will be called<br>
 <br></div>
</li>
</ul>
<a name="acceptParticipant-org.apache.mina.core.session.IoSession-org.commonreality.object.ISimulationObject-org.commonreality.reality.impl.handler.ObjectCommandHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acceptParticipant</h4>
<pre>public&nbsp;boolean&nbsp;acceptParticipant(org.apache.mina.core.session.IoSession&nbsp;session,
                                 <a href="../../../../org/commonreality/object/ISimulationObject.html" title="interface in org.commonreality.object">ISimulationObject</a>&nbsp;object,
                                 <a href="../../../../org/commonreality/reality/impl/handler/ObjectCommandHandler.html" title="class in org.commonreality.reality.impl.handler">ObjectCommandHandler</a>&nbsp;objectHandler)</pre>
<div class="block">once all the participants information has been received, we officially add
 them to the simulation and make sure its state is consistent with the
 simulations</div>
</li>
</ul>
<a name="participantDisconnected-org.apache.mina.core.session.IoSession-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>participantDisconnected</h4>
<pre>public&nbsp;<a href="../../../../org/commonreality/identifier/IIdentifier.html" title="interface in org.commonreality.identifier">IIdentifier</a>&nbsp;participantDisconnected(org.apache.mina.core.session.IoSession&nbsp;session)</pre>
<div class="block">called when a participant leaves the simulation, cleanly or not</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StateAndConnectionManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/commonreality/reality/impl/RealityIOHandler.html" title="class in org.commonreality.reality.impl"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/commonreality/reality/impl/StateAndConnectionManager.html" target="_top">Frames</a></li>
<li><a href="StateAndConnectionManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
